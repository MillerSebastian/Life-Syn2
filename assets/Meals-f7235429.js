import{r as f,a as _e,f as D,J as fe,w as te,N as Ne,j as u,v as m,x as Re,y as e,K as T,F as $,G as P,A as b,O as he,I as i,E as x,L as W,B as h,M as Fe,C as B,z as je,n as Ae}from"./vendor-a1a62974.js";import{a as We,d as y}from"./index-912f96f0.js";import{p as se,q as z,x as S,B as Be,M as K,O as ae,z as ze,N as Ke,P as oe}from"./firebase-1b009ed5.js";import{b as q,a as qe,c as He}from"./alert-015a1aea.js";import{F as Je}from"./FloatingIcons-e36b23d3.js";import{_ as Qe}from"./_plugin-vue_export-helper-c27b6911.js";import"./sweetalert2.esm.all-9d2ad45a.js";const Xe={class:"meals-page"},Ye={class:"container"},Ze={class:"nutrition-summary mb-4"},et={class:"columns"},tt={class:"nutrition-card"},st={class:"nutrition-icon"},at={class:"nutrition-info"},ot={class:"nutrition-value"},lt={class:"nutrition-label"},it={class:"nutrition-target"},nt={class:"meals-controls mb-4"},rt={class:"is-flex is-justify-content-space-between is-align-items-center"},dt={class:"is-flex is-align-items-center gap-3"},ct={class:"is-flex is-align-items-center gap-2"},ut={class:"columns"},mt={class:"column is-8"},vt={class:"card"},pt={class:"card-header"},bt={class:"title is-5 mb-0"},gt={class:"card-content"},_t={key:0},ft={class:"title is-6 mb-2"},ht={class:"meals-timeline"},yt=["id"],kt={class:"meal-time"},wt={class:"meal-content"},xt={class:"meal-header"},Ct={class:"meal-title"},Dt={class:"meal-calories"},It={key:0,class:"meal-image"},St=["src","alt"],Mt={class:"meal-description"},Tt={class:"meal-ingredients"},Vt={class:"meal-nutrition"},$t={class:"nutrition-tag protein"},Pt={class:"nutrition-tag carbs"},Ot={class:"nutrition-tag fat"},Ut={class:"meal-actions"},Et=["onClick","title"],Gt=["onClick"],Lt=["onClick"],Nt=["onClick"],Rt={key:1},Ft={class:"meals-timeline"},jt=["id"],At={class:"meal-time"},Wt={class:"meal-content"},Bt={class:"meal-header"},zt={class:"meal-title"},Kt={class:"meal-calories"},qt={key:0,class:"meal-image"},Ht=["src","alt"],Jt={class:"meal-description"},Qt={class:"meal-ingredients"},Xt={class:"meal-nutrition"},Yt={class:"nutrition-tag protein"},Zt={class:"nutrition-tag carbs"},es={class:"nutrition-tag fat"},ts={class:"meal-actions"},ss=["onClick","title"],as=["onClick"],os=["onClick"],ls=["onClick"],is={class:"column is-4"},ns={class:"card mb-4"},rs={class:"card-content"},ds={class:"daily-summary"},cs={class:"summary-item"},us={class:"summary-header"},ms={class:"summary-value"},vs={class:"progress-bar"},ps={class:"summary-percentage"},bs={class:"summary-item"},gs={class:"summary-header"},_s={class:"summary-value"},fs={class:"progress-bar"},hs={class:"summary-percentage"},ys={class:"summary-item"},ks={class:"summary-header"},ws={class:"summary-value"},xs={class:"progress-bar"},Cs={class:"summary-percentage"},Ds={class:"summary-item"},Is={class:"summary-header"},Ss={class:"summary-value"},Ms={class:"progress-bar"},Ts={class:"summary-percentage"},Vs={class:"summary-item"},$s={class:"summary-header"},Ps={class:"summary-value"},Os={class:"water-input-container"},Us={class:"progress-bar"},Es={class:"summary-percentage"},Gs={class:"summary-item"},Ls={class:"summary-header"},Ns={class:"summary-value"},Rs={class:"card"},Fs={class:"card-content"},js={class:"favorite-recipes"},As=["onClick"],Ws={class:"recipe-image"},Bs=["src","alt"],zs={class:"recipe-info"},Ks={class:"recipe-name"},qs={class:"recipe-calories"},Hs=["onClick"],Js={class:"modal-card"},Qs={class:"modal-card-head"},Xs={class:"modal-card-title"},Ys={class:"modal-card-body"},Zs={class:"field"},ea={class:"control"},ta={class:"select is-fullwidth"},sa={class:"field"},aa={class:"control"},oa={class:"field"},la={class:"control"},ia={class:"field"},na={class:"control"},ra={key:0,class:"mt-2"},da=["src"],ca={class:"columns"},ua={class:"column is-6"},ma={class:"field"},va={class:"control"},pa={class:"column is-6"},ba={class:"field"},ga={class:"control"},_a={class:"field"},fa={class:"control"},ha={class:"columns"},ya={class:"column is-4"},ka={class:"field"},wa={class:"control"},xa={class:"column is-4"},Ca={class:"field"},Da={class:"control"},Ia={class:"column is-4"},Sa={class:"field"},Ma={class:"control"},Ta={class:"modal-card-foot buttons"},Va={class:"modal-card"},$a={class:"modal-card-head"},Pa={class:"modal-card-body"},Oa={class:"title is-6 mb-2"},Ua={class:"columns is-multiline"},Ea={class:"label"},Ga=["onUpdate:modelValue"],La={class:"modal-card-foot buttons",style:{"flex-wrap":"wrap",gap:"0.5rem"}},Na=["disabled"],Ra={key:0},Fa={key:1},ja={key:0,class:"notification is-success mt-2"},Aa={key:1,class:"notification is-danger mt-2"},Wa={class:"modal-card"},Ba={class:"modal-card-head"},za={class:"modal-card-body"},Ka={class:"columns"},qa={class:"column is-6"},Ha={class:"field"},Ja={class:"control"},Qa={class:"column is-6"},Xa={class:"field"},Ya={class:"control"},Za={class:"columns"},eo={class:"column is-4"},to={class:"field"},so={class:"control"},ao={class:"column is-4"},oo={class:"field"},lo={class:"control"},io={class:"column is-4"},no={class:"field"},ro={class:"control"},co={class:"modal-card-foot buttons"},uo={__name:"Meals",setup(mo){const O=f(!1),N=f(!1),R=f(!1),U=f(null),g=f("today"),v=f({calories:2e3,protein:120,carbs:250,fat:70,water:2.5}),k=_e({calories:2e3,protein:120,carbs:250,fat:70,water:2.5}),n=_e({type:"breakfast",name:"",description:"",time:"",calories:"",ingredientsText:"",protein:"",carbs:"",fat:"",image:""}),F=f(0);f({});const ye=D(()=>{const a=p.value.filter(l=>l.completed).reduce((l,d)=>l+(d.calories||0),0),t=p.value.filter(l=>l.completed).reduce((l,d)=>{var c;return l+(((c=d.nutrition)==null?void 0:c.protein)||0)},0),s=p.value.filter(l=>l.completed).reduce((l,d)=>{var c;return l+(((c=d.nutrition)==null?void 0:c.carbs)||0)},0),o=p.value.filter(l=>l.completed).reduce((l,d)=>{var c;return l+(((c=d.nutrition)==null?void 0:c.fat)||0)},0);return[{name:"Calorías",value:a.toLocaleString(),target:v.value.calories.toLocaleString(),icon:"bx bx-fire"},{name:"Proteína",value:t+"g",target:v.value.protein+"g",icon:"bx bx-dumbbell"},{name:"Carbohidratos",value:s+"g",target:v.value.carbs+"g",icon:"bx bx-bread"},{name:"Grasa",value:o+"g",target:v.value.fat+"g",icon:"bx bx-droplet"}]}),p=f([]),M=f({}),C=()=>{var a;return(a=We.currentUser)==null?void 0:a.uid};fe(()=>{se(z(y,"meals"),t=>{const s=C();if(!s)return;const l=t.docs.map(r=>({id:r.id,...r.data()})).filter(r=>r.userId===s),d=new Date;let c=d.toISOString().split("T")[0],w=(()=>{const r=new Date(d);return r.setDate(d.getDate()+1),r.toISOString().split("T")[0]})();if(g.value==="today")p.value=l.filter(r=>r.date===c);else if(g.value==="tomorrow")p.value=l.filter(r=>r.date===w);else if(g.value==="week"){const r=[],I=d.getDate()-d.getDay()+1;for(let _=0;_<7;_++){const L=new Date(d);L.setDate(I+_),r.push(L.toISOString().split("T")[0])}p.value=l.filter(_=>r.includes(_.date)).sort((_,L)=>_.date.localeCompare(L.date)||_.type.localeCompare(L.type))}M.value={},l.forEach(r=>{M.value[r.date]||(M.value[r.date]=[]),M.value[r.date].push(r)})});const a=C();a&&se(S(y,"users",a),t=>{if(t.exists()&&t.data().nutritionGoals){const s=t.data().nutritionGoals;v.value={calories:s.calories||2e3,protein:s.protein||120,carbs:s.carbs||250,fat:s.fat||70,water:s.water||2.5},Object.assign(k,v.value)}}),ee()});const j=f([]);fe(()=>{se(z(y,"favoriteRecipes"),a=>{const t=C();t&&(j.value=a.docs.map(s=>({id:s.id,...s.data()})).filter(s=>s.userId===t))}),ee()});const ke=D(()=>new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),le=D(()=>p.value.filter(a=>a.completed).reduce((a,t)=>a+t.calories,0)),ie=D(()=>p.value.filter(a=>a.completed).reduce((a,t)=>{var s;return a+(((s=t.nutrition)==null?void 0:s.protein)||0)},0)),ne=D(()=>p.value.filter(a=>a.completed).reduce((a,t)=>{var s;return a+(((s=t.nutrition)==null?void 0:s.carbs)||0)},0)),re=D(()=>p.value.filter(a=>a.completed).reduce((a,t)=>{var s;return a+(((s=t.nutrition)==null?void 0:s.fat)||0)},0)),Q=D(()=>v.value.calories);D(()=>p.value.length),D(()=>v.value.water);const we=D(()=>{if(g.value!=="week")return[];const a=new Date,t=[],s=a.getDate()-a.getDay()+1;for(let o=0;o<7;o++){const l=new Date(a);l.setDate(s+o),t.push(l.toISOString().split("T")[0])}return t.map(o=>({date:o,meals:p.value.filter(l=>l.date===o)}))}),xe=D(()=>g.value==="week"?p.value.filter(a=>a.completed).reduce((a,t)=>a+(t.waterIntake||0),0):p.value.filter(a=>a.completed).reduce((a,t)=>a+(t.waterIntake||0),0)),de=D(()=>xe.value+(parseFloat(F.value)||0)),Ce=D(()=>g.value==="week"?p.value.filter(a=>a.completed).length:p.value.filter(a=>a.completed).length),ce=a=>{U.value=a,Object.assign(n,{...a,ingredientsText:a.ingredients?a.ingredients.join(", "):"",image:a.image||"",date:a.date||new Date().toISOString().split("T")[0]}),O.value=!0},ue=async a=>{(await He("¿estas seguro de eliminarlo?")).isConfirmed&&(await oe(S(y,"meals",a)),q("eliminado exitosamente"))},De=async()=>{const a=C();if(!a||!n.name.trim()||!n.time||!n.calories)return;const t={...n,ingredients:n.ingredientsText.split(",").map(s=>s.trim()).filter(s=>s),nutrition:{protein:parseInt(n.protein)||0,carbs:parseInt(n.carbs)||0,fat:parseInt(n.fat)||0},image:n.image||"",date:n.date||new Date().toISOString().split("T")[0],userId:a};if(U.value){t.completed=U.value.completed,await K(S(y,"meals",U.value.id),t);const s=U.value.name,o=n.name;if(s!==o){const l=j.value.find(d=>d.name===s);l&&await K(S(y,"favoriteRecipes",l.id),{name:o,calories:n.calories,image:n.image||""})}q("Comida editada exitosamente")}else t.completed=!1,await ae(z(y,"meals"),t),q("Comida agregada exitosamente");Ie(),O.value=!1},Ie=()=>{Object.assign(n,{type:"breakfast",name:"",description:"",time:"",calories:"",ingredientsText:"",protein:"",carbs:"",fat:"",image:""}),U.value=null},Se=a=>{console.log("Agregando receta:",a.name)},X=()=>Q.value===0?0:Math.min(le.value/Q.value*100,100),me=()=>v.value.protein===0?0:Math.min(ie.value/v.value.protein*100,100),ve=()=>v.value.carbs===0?0:Math.min(ne.value/v.value.carbs*100,100),pe=()=>v.value.fat===0?0:Math.min(re.value/v.value.fat*100,100),Me=()=>{const a=X();return a>=90?"danger":a>=75?"warning":"success"},Y=async a=>{const t=C();if(!t)return;const s=j.value.find(o=>o.name===a.name);s?await oe(S(y,"favoriteRecipes",s.id)):await ae(z(y,"favoriteRecipes"),{name:a.name,calories:a.calories,image:a.image||"",userId:t})},Z=a=>{a.target.src="https://via.placeholder.com/150"},be=async()=>{const a=C();if(!a)return;const t=parseFloat(F.value)||0,s=g.value==="today"?new Date().toISOString().split("T")[0]:g.value;try{const o=S(y,"dailyWater",`${a}_${s}`);await ze(o,{userId:a,date:s,waterIntake:t,updatedAt:Ke()}),q("Agua consumida guardada")}catch(o){console.error("Error al guardar agua:",o),qe("Error al guardar el agua consumida")}},ee=()=>{const a=C();if(!a)return;const t=g.value==="today"?new Date().toISOString().split("T")[0]:g.value,s=S(y,"dailyWater",`${a}_${t}`);Be(s).then(o=>{o.exists()?F.value=o.data().waterIntake||0:F.value=0})},V=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],H=["breakfast","lunch","dinner"],Te={breakfast:"Desayuno",lunch:"Almuerzo",dinner:"Cena"},E=f({});V.forEach(a=>{E.value[a]={breakfast:"",lunch:"",dinner:""}});const J=f(!1),A=f(!1),G=f("");te(N,a=>{if(a){if(A.value=!1,G.value="",!C())return;const s=new Date;for(let o=0;o<V.length;o++){const l=V[o],d=new Date(s);d.setDate(s.getDate()+o);const c=d.toISOString().split("T")[0],w=M.value[c]||[];for(const r of H){const I=w.find(_=>_.type===r);E.value[l][r]=I?I.name:""}}}});const Ve=async()=>{J.value=!0,A.value=!1,G.value="";const a=C();if(!a)return;const t=new Date;let s=!1;try{for(let o=0;o<V.length;o++){const l=V[o],d=new Date(t);d.setDate(t.getDate()+o);const c=d.toISOString().split("T")[0],w=M.value[c]||[];for(const r of H){const I=E.value[l][r],_=w.find(L=>L.type===r);I.trim()?_?_.name!==I&&(await K(S(y,"meals",_.id),{..._,name:I}),s=!0):(await ae(z(y,"meals"),{name:I,type:r,date:c,userId:a,calories:0,description:"",ingredients:[],nutrition:{protein:0,carbs:0,fat:0}}),s=!0):_&&(await oe(S(y,"meals",_.id)),s=!0)}}s?A.value=!0:G.value="No hay cambios para guardar."}catch{G.value="Error al guardar la semana."}J.value=!1,setTimeout(()=>{A.value=!1,G.value=""},2e3)},$e=()=>{V.forEach(a=>{E.value[a]={breakfast:"",lunch:"",dinner:""}})},Pe=()=>{if(!C())return;const t=new Date;for(let s=0;s<V.length;s++){const o=V[s],l=new Date(t);l.setDate(t.getDate()-7+s);const d=l.toISOString().split("T")[0],c=M.value[d]||[];for(const w of H){const r=c.find(I=>I.type===w);E.value[o][w]=r?r.name:""}}};te(g,()=>{if(!C())return;const t=new Date;let s=t.toISOString().split("T")[0],o=(()=>{const l=new Date(t);return l.setDate(t.getDate()+1),l.toISOString().split("T")[0]})();if(g.value==="today")p.value=M.value[s]||[];else if(g.value==="tomorrow")p.value=M.value[o]||[];else if(g.value==="week"){const l=[],d=t.getDate()-t.getDay()+1;for(let c=0;c<7;c++){const w=new Date(t);w.setDate(d+c),l.push(w.toISOString().split("T")[0])}p.value=Object.values(M.value).flat().filter(c=>l.includes(c.date)).sort((c,w)=>c.date.localeCompare(w.date)||c.type.localeCompare(w.type))}ee()});const Oe=Ne(),Ue=f(null);te(()=>Oe.query.highlight,async a=>{if(a){Ue.value=a,await Ae();const t=document.getElementById("meal-"+a);t&&(t.classList.add("highlighted-search"),setTimeout(()=>{t.classList.remove("highlighted-search")},2e3))}},{immediate:!0});const Ee=()=>{Object.assign(k,v.value),R.value=!0},Ge=async()=>{const a=C();if(!a)return;const t={...v.value,...k};await K(S(y,"users",a),{nutritionGoals:t}),q("Metas nutricionales guardadas con éxito!"),R.value=!1},Le=()=>{Object.assign(k,{calories:2e3,protein:120,carbs:250,fat:70,water:2.5})},ge=async a=>{if(!C())return;const s=S(y,"meals",a.id),o={...a,completed:!a.completed};await K(s,o)};return(a,t)=>(u(),m("div",Xe,[Re(Je,{viewType:"meals"}),e("div",Ye,[e("div",{class:"page-header"},[t[29]||(t[29]=e("h1",{class:"title is-2 text-primary"},"Planificación de Comidas",-1)),t[30]||(t[30]=e("p",{class:"subtitle is-6 text-secondary"}," Gestiona tu alimentación y nutrición diaria ",-1)),e("button",{class:"btn btn-accent mt-3",onClick:Ee},t[28]||(t[28]=[e("i",{class:"bx bx-cog mr-2"},null,-1),T("Editar Metas Nutricionales ")]))]),e("div",Ze,[e("div",et,[(u(!0),m($,null,P(ye.value,s=>(u(),m("div",{class:"column is-3",key:s.name},[e("div",tt,[e("div",st,[e("i",{class:x(s.icon)},null,2)]),e("div",at,[e("div",ot,i(s.value),1),e("div",lt,i(s.name),1),e("div",it,"Meta: "+i(s.target),1)])])]))),128))])]),e("div",nt,[e("div",rt,[e("div",dt,[e("button",{class:"btn btn-accent",onClick:t[0]||(t[0]=s=>O.value=!0)},t[31]||(t[31]=[e("i",{class:"bx bx-plus mr-2"},null,-1),T("Agregar Comida ")])),e("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=s=>N.value=!0)},t[32]||(t[32]=[e("i",{class:"bx bx-calendar-check mr-2"},null,-1),T("Planificar Semana ")]))]),e("div",ct,[b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>g.value=s),class:"select select-month"},t[33]||(t[33]=[e("option",{value:"today"},"Hoy",-1),e("option",{value:"tomorrow"},"Mañana",-1),e("option",{value:"week"},"Esta Semana",-1)]),512),[[he,g.value]])])])]),e("div",ut,[e("div",mt,[e("div",vt,[e("div",pt,[e("h3",bt," Plan de Comidas - "+i(ke.value),1)]),e("div",gt,[g.value==="week"?(u(),m("div",_t,[(u(!0),m($,null,P(we.value,s=>(u(),m("div",{key:s.date,class:"mb-4"},[e("h4",ft,i(new Date(s.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"short"})),1),e("div",ht,[(u(!0),m($,null,P(s.meals,o=>(u(),m("div",{key:o.id,id:"meal-"+o.id,class:x(["meal-item",[o.type,{"meal-completed":o.completed}]])},[e("div",kt,i(o.time),1),e("div",wt,[e("div",xt,[e("h4",Ct,i(o.name),1),e("div",Dt,i(o.calories)+" cal ",1)]),o.image?(u(),m("div",It,[e("img",{src:o.image,alt:o.name,onError:Z},null,40,St)])):B("",!0),e("div",Mt,i(o.description),1),e("div",Tt,[(u(!0),m($,null,P(o.ingredients,l=>(u(),m("span",{key:l,class:"ingredient-tag"},i(l),1))),128))]),e("div",Vt,[e("span",$t,i(o.nutrition.protein)+"g proteína",1),e("span",Pt,i(o.nutrition.carbs)+"g carbohidratos",1),e("span",Ot,i(o.nutrition.fat)+"g grasa",1)])]),e("div",Ut,[e("button",{class:x(["btn-icon completed-checkbox",{"is-completed":o.completed}]),onClick:l=>ge(o),title:o.completed?"Desmarcar como completada":"Marcar como completada"},[e("i",{class:x(o.completed?"bx bx-check-circle":"bx bx-circle")},null,2)],10,Et),e("button",{class:"btn-icon",onClick:l=>ce(o)},t[34]||(t[34]=[e("i",{class:"bx bx-edit"},null,-1)]),8,Gt),e("button",{class:"btn-icon",onClick:l=>ue(o.id)},t[35]||(t[35]=[e("i",{class:"bx bx-trash"},null,-1)]),8,Lt),e("button",{class:"btn-icon",onClick:l=>Y(o)},[e("i",{class:x(j.value.find(l=>l.name===o.name)?"bx bxs-star":"bx bx-star"),style:{color:"#fbbf24"}},null,2)],8,Nt)])],10,yt))),128))])]))),128))])):(u(),m("div",Rt,[e("div",Ft,[(u(!0),m($,null,P(p.value,s=>(u(),m("div",{key:s.id,id:"meal-"+s.id,class:x(["meal-item",[s.type,{"meal-completed":s.completed}]])},[e("div",At,i(s.time),1),e("div",Wt,[e("div",Bt,[e("h4",zt,i(s.name),1),e("div",Kt,i(s.calories)+" cal",1)]),s.image?(u(),m("div",qt,[e("img",{src:s.image,alt:s.name,onError:Z},null,40,Ht)])):B("",!0),e("div",Jt,i(s.description),1),e("div",Qt,[(u(!0),m($,null,P(s.ingredients,o=>(u(),m("span",{key:o,class:"ingredient-tag"},i(o),1))),128))]),e("div",Xt,[e("span",Yt,i(s.nutrition.protein)+"g proteína",1),e("span",Zt,i(s.nutrition.carbs)+"g carbohidratos",1),e("span",es,i(s.nutrition.fat)+"g grasa",1)])]),e("div",ts,[e("button",{class:x(["btn-icon completed-checkbox",{"is-completed":s.completed}]),onClick:o=>ge(s),title:s.completed?"Desmarcar como completada":"Marcar como completada"},[e("i",{class:x(s.completed?"bx bx-check-circle":"bx bx-circle")},null,2)],10,ss),e("button",{class:"btn-icon",onClick:o=>ce(s)},t[36]||(t[36]=[e("i",{class:"bx bx-edit"},null,-1)]),8,as),e("button",{class:"btn-icon",onClick:o=>ue(s.id)},t[37]||(t[37]=[e("i",{class:"bx bx-trash"},null,-1)]),8,os),e("button",{class:"btn-icon",onClick:o=>Y(s)},[e("i",{class:x(j.value.find(o=>o.name===s.name)?"bx bxs-star":"bx bx-star"),style:{color:"#fbbf24"}},null,2)],8,ls)])],10,jt))),128))])]))])])]),e("div",is,[e("div",ns,[t[45]||(t[45]=e("div",{class:"card-header"},[e("h3",{class:"title is-5 mb-0"},"Resumen Nutricional")],-1)),e("div",rs,[e("div",ds,[e("div",cs,[e("div",us,[t[38]||(t[38]=e("div",{class:"summary-label"},[e("i",{class:"bx bx-fire mr-2"}),T("Calorías ")],-1)),e("div",ms,i(le.value)+" / "+i(Q.value)+" cal ",1)]),e("div",vs,[e("div",{class:x(["progress-fill",Me()]),style:W({width:X()+"%"})},null,6)]),e("div",ps,i(Math.round(X()))+"% de la meta ",1)]),e("div",bs,[e("div",gs,[t[39]||(t[39]=e("div",{class:"summary-label"},[e("i",{class:"bx bx-dumbbell mr-2"}),T("Proteínas ")],-1)),e("div",_s,i(ie.value)+" / "+i(v.value.protein)+"g ",1)]),e("div",fs,[e("div",{class:"progress-fill protein-progress",style:W({width:me()+"%"})},null,4)]),e("div",hs,i(Math.round(me()))+"% de la meta ",1)]),e("div",ys,[e("div",ks,[t[40]||(t[40]=e("div",{class:"summary-label"},[e("i",{class:"bx bx-bread mr-2"}),T("Carbohidratos ")],-1)),e("div",ws,i(ne.value)+" / "+i(v.value.carbs)+"g ",1)]),e("div",xs,[e("div",{class:"progress-fill carbs-progress",style:W({width:ve()+"%"})},null,4)]),e("div",Cs,i(Math.round(ve()))+"% de la meta ",1)]),e("div",Ds,[e("div",Is,[t[41]||(t[41]=e("div",{class:"summary-label"},[e("i",{class:"bx bx-droplet mr-2"}),T("Grasas ")],-1)),e("div",Ss,i(re.value)+" / "+i(v.value.fat)+"g ",1)]),e("div",Ms,[e("div",{class:"progress-fill fat-progress",style:W({width:pe()+"%"})},null,4)]),e("div",Ts,i(Math.round(pe()))+"% de la meta ",1)]),e("div",Vs,[e("div",$s,[t[43]||(t[43]=e("div",{class:"summary-label"},[e("i",{class:"bx bx-water mr-2"}),T("Agua ")],-1)),e("div",Ps,[e("div",Os,[b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>F.value=s),type:"number",step:"0.1",min:"0",max:"10",class:"water-input",placeholder:"0.0",onBlur:be,onKeyup:Fe(be,["enter"])},null,544),[[h,F.value]]),t[42]||(t[42]=e("span",{class:"water-unit"},"L",-1))]),T(" / "+i(v.value.water)+"L ",1)])]),e("div",Us,[e("div",{class:"progress-fill water-progress",style:W({width:de.value/v.value.water*100+"%"})},null,4)]),e("div",Es,i(Math.round(de.value/v.value.water*100))+"% de la meta ",1)]),e("div",Gs,[e("div",Ls,[t[44]||(t[44]=e("div",{class:"summary-label"},[e("i",{class:"bx bx-check-circle mr-2"}),T("Comidas Completadas ")],-1)),e("div",Ns,i(Ce.value),1)])])])])]),e("div",Rs,[t[47]||(t[47]=e("div",{class:"card-header"},[e("h3",{class:"title is-5 mb-0"},"Recetas Favoritas")],-1)),e("div",Fs,[e("div",js,[(u(!0),m($,null,P(j.value,s=>(u(),m("div",{key:s.id,class:"recipe-item",onClick:o=>Se(s)},[e("div",Ws,[e("img",{src:s.image,alt:s.name},null,8,Bs)]),e("div",zs,[e("div",Ks,i(s.name),1),e("div",qs,i(s.calories)+" cal",1)]),e("button",{class:"btn-icon",onClick:je(o=>Y(s),["stop"])},t[46]||(t[46]=[e("i",{class:x("bx bxs-star"),style:{color:"#fbbf24"}},null,-1)]),8,Hs)],8,As))),128))])])])])])]),e("div",{class:x(["modal",{"is-active":O.value}])},[e("div",{class:"modal-background",onClick:t[4]||(t[4]=s=>O.value=!1)}),e("div",Js,[e("header",Qs,[e("p",Xs,i(U.value?"Editar Comida":"Agregar Comida"),1),e("button",{class:"delete",onClick:t[5]||(t[5]=s=>O.value=!1)})]),e("section",Ys,[e("div",Zs,[t[49]||(t[49]=e("label",{class:"label"},"Tipo de Comida",-1)),e("div",ea,[e("div",ta,[b(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>n.type=s)},t[48]||(t[48]=[e("option",{value:"breakfast"},"Desayuno",-1),e("option",{value:"lunch"},"Almuerzo",-1),e("option",{value:"dinner"},"Cena",-1),e("option",{value:"snack"},"Snack",-1)]),512),[[he,n.type]])])])]),e("div",sa,[t[50]||(t[50]=e("label",{class:"label"},"Nombre",-1)),e("div",aa,[b(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>n.name=s),class:"input",type:"text",placeholder:"Nombre de la comida"},null,512),[[h,n.name]])])]),e("div",oa,[t[51]||(t[51]=e("label",{class:"label"},"Descripción",-1)),e("div",la,[b(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=s=>n.description=s),class:"textarea",placeholder:"Descripción de la comida"},null,512),[[h,n.description]])])]),e("div",ia,[t[52]||(t[52]=e("label",{class:"label"},"Imagen (URL)",-1)),e("div",na,[b(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>n.image=s),class:"input",type:"url",placeholder:"https://ejemplo.com/imagen.jpg"},null,512),[[h,n.image]]),n.image?(u(),m("div",ra,[e("img",{src:n.image,alt:"Imagen comida",style:{"max-width":"120px","max-height":"120px","object-fit":"cover","border-radius":"8px"},onError:Z},null,40,da)])):B("",!0)])]),e("div",ca,[e("div",ua,[e("div",ma,[t[53]||(t[53]=e("label",{class:"label"},"Hora",-1)),e("div",va,[b(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>n.time=s),class:"input",type:"time"},null,512),[[h,n.time]])])])]),e("div",pa,[e("div",ba,[t[54]||(t[54]=e("label",{class:"label"},"Calorías",-1)),e("div",ga,[b(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>n.calories=s),class:"input",type:"number",placeholder:"0"},null,512),[[h,n.calories]])])])])]),e("div",_a,[t[55]||(t[55]=e("label",{class:"label"},"Ingredientes (separados por comas)",-1)),e("div",fa,[b(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>n.ingredientsText=s),class:"input",type:"text",placeholder:"Ingrediente 1, Ingrediente 2, ..."},null,512),[[h,n.ingredientsText]])])]),e("div",ha,[e("div",ya,[e("div",ka,[t[56]||(t[56]=e("label",{class:"label"},"Proteína (g)",-1)),e("div",wa,[b(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>n.protein=s),class:"input",type:"number",placeholder:"0"},null,512),[[h,n.protein]])])])]),e("div",xa,[e("div",Ca,[t[57]||(t[57]=e("label",{class:"label"},"Carbohidratos (g)",-1)),e("div",Da,[b(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>n.carbs=s),class:"input",type:"number",placeholder:"0"},null,512),[[h,n.carbs]])])])]),e("div",Ia,[e("div",Sa,[t[58]||(t[58]=e("label",{class:"label"},"Grasa (g)",-1)),e("div",Ma,[b(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>n.fat=s),class:"input",type:"number",placeholder:"0"},null,512),[[h,n.fat]])])])])])]),e("footer",Ta,[e("button",{class:"btn btn-primary",onClick:De},"Guardar"),e("button",{class:"btn button is-danger has-text-white-bis",onClick:t[16]||(t[16]=s=>O.value=!1)}," Cancelar ")])])],2),e("div",{class:x(["modal",{"is-active":N.value}])},[e("div",{class:"modal-background",onClick:t[17]||(t[17]=s=>N.value=!1)}),e("div",Va,[e("header",$a,[t[59]||(t[59]=e("p",{class:"modal-card-title"},"Planificar Semana",-1)),e("button",{class:"delete",onClick:t[18]||(t[18]=s=>N.value=!1)})]),e("section",Pa,[(u(),m($,null,P(V,(s,o)=>e("div",{key:s,class:"mb-4"},[e("h4",Oa,i(s),1),e("div",Ua,[(u(),m($,null,P(H,l=>e("div",{class:"column is-4",key:l},[e("label",Ea,i(Te[l]),1),b(e("input",{"onUpdate:modelValue":d=>E.value[s][l]=d,class:"input",type:"text",placeholder:"Nombre de la comida"},null,8,Ga),[[h,E.value[s][l]]])])),64))])])),64))]),e("footer",La,[e("button",{class:"btn btn-primary is-small mr-2 mb-2",disabled:J.value,onClick:Ve},[J.value?(u(),m("span",Ra,"Guardando...")):(u(),m("span",Fa,"Guardar Semana"))],8,Na),e("button",{class:"btn button is-danger button-cancel has-text-white-bis",onClick:t[19]||(t[19]=s=>N.value=!1)}," Cancelar "),e("button",{class:"btn btn-warning is-small mr-2 mb-2",onClick:$e,type:"button"}," Limpiar Semana "),e("button",{class:"btn btn-accent is-small mb-2",onClick:Pe,type:"button"}," Copiar Semana Anterior ")])]),A.value?(u(),m("div",ja," ¡Semana guardada con éxito! ")):B("",!0),G.value?(u(),m("div",Aa,i(G.value),1)):B("",!0)],2),e("div",{class:x(["modal",{"is-active":R.value}])},[e("div",{class:"modal-background",onClick:t[20]||(t[20]=s=>R.value=!1)}),e("div",Wa,[e("header",Ba,[t[60]||(t[60]=e("p",{class:"modal-card-title"},"Editar Metas Nutricionales",-1)),e("button",{class:"delete",onClick:t[21]||(t[21]=s=>R.value=!1)})]),e("section",za,[e("div",Ka,[e("div",qa,[e("div",Ha,[t[61]||(t[61]=e("label",{class:"label"},"Calorías Diarias",-1)),e("div",Ja,[b(e("input",{"onUpdate:modelValue":t[22]||(t[22]=s=>k.calories=s),class:"input",type:"number",min:"1000",max:"5000",step:"50",placeholder:"2000"},null,512),[[h,k.calories,void 0,{number:!0}]])]),t[62]||(t[62]=e("p",{class:"help"},"Rango recomendado: 1000 - 5000 cal",-1))])]),e("div",Qa,[e("div",Xa,[t[63]||(t[63]=e("label",{class:"label"},"Agua Diaria (L)",-1)),e("div",Ya,[b(e("input",{"onUpdate:modelValue":t[23]||(t[23]=s=>k.water=s),class:"input",type:"number",min:"1",max:"5",step:"0.1",placeholder:"2.5"},null,512),[[h,k.water,void 0,{number:!0}]])]),t[64]||(t[64]=e("p",{class:"help"},"Rango recomendado: 1 - 5 L",-1))])])]),e("div",Za,[e("div",eo,[e("div",to,[t[65]||(t[65]=e("label",{class:"label"},"Proteína (g)",-1)),e("div",so,[b(e("input",{"onUpdate:modelValue":t[24]||(t[24]=s=>k.protein=s),class:"input",type:"number",min:"50",max:"300",step:"5",placeholder:"120"},null,512),[[h,k.protein,void 0,{number:!0}]])]),t[66]||(t[66]=e("p",{class:"help"},"Rango recomendado: 50 - 300g",-1))])]),e("div",ao,[e("div",oo,[t[67]||(t[67]=e("label",{class:"label"},"Carbohidratos (g)",-1)),e("div",lo,[b(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>k.carbs=s),class:"input",type:"number",min:"100",max:"500",step:"10",placeholder:"250"},null,512),[[h,k.carbs,void 0,{number:!0}]])]),t[68]||(t[68]=e("p",{class:"help"},"Rango recomendado: 100 - 500g",-1))])]),e("div",io,[e("div",no,[t[69]||(t[69]=e("label",{class:"label"},"Grasa (g)",-1)),e("div",ro,[b(e("input",{"onUpdate:modelValue":t[26]||(t[26]=s=>k.fat=s),class:"input",type:"number",min:"30",max:"150",step:"5",placeholder:"70"},null,512),[[h,k.fat,void 0,{number:!0}]])]),t[70]||(t[70]=e("p",{class:"help"},"Rango recomendado: 30 - 150g",-1))])])])]),e("footer",co,[e("button",{class:"btn btn-primary",onClick:Ge}," Guardar Metas "),e("button",{class:"btn button is-danger has-text-white-bis",onClick:t[27]||(t[27]=s=>R.value=!1)}," Cancelar "),e("button",{class:"btn btn-warning",onClick:Le}," Restablecer Valores por Defecto ")])])],2)]))}},yo=Qe(uo,[["__scopeId","data-v-3dd4f2d0"]]);export{yo as default};
